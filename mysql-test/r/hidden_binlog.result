include/master-slave.inc
[connection master]
connection master;
create table t1(a int , b int hidden);
insert into t1 values(1);
insert into t1 values(1);
insert into t1 values(1);
insert into t1 values(1);
select a,b from t1;
a	b
1	NULL
1	NULL
1	NULL
1	NULL
desc t1;
Field	Type	Null	Key	Default	Extra
a	int(11)	YES		NULL	
b	int(11)	YES		NULL	 HIDDEN
create table t2(a int , b int hidden default 5);
insert into t2 values(1);
insert into t2 values(1);
insert into t2 values(1);
insert into t2 values(1);
select a,b from t2;
a	b
1	5
1	5
1	5
1	5
desc t2;
Field	Type	Null	Key	Default	Extra
a	int(11)	YES		NULL	
b	int(11)	YES		5	 HIDDEN
set debug_dbug="+d,test_pseudo_hidden";
create table t3 (hidden int , b int , c int );
insert into t3 values(1,1);
desc t3;
Field	Type	Null	Key	Default	Extra
b	int(11)	YES		NULL	
c	int(11)	YES		NULL	
connection slave;
select * from t1;
a
1
1
1
1
select a,b from t1;
a	b
1	NULL
1	NULL
1	NULL
1	NULL
desc t1;
Field	Type	Null	Key	Default	Extra
a	int(11)	YES		NULL	
b	int(11)	YES		NULL	 HIDDEN
show create table t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int(11) DEFAULT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1
select * from t2;
a
1
1
1
1
select a,b from t2;
a	b
1	5
1	5
1	5
1	5
desc t2;
Field	Type	Null	Key	Default	Extra
a	int(11)	YES		NULL	
b	int(11)	YES		5	 HIDDEN
show create table t2;
Table	Create Table
t2	CREATE TABLE `t2` (
  `a` int(11) DEFAULT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1
show create table t3;
Table	Create Table
t3	CREATE TABLE `t3` (
  `hidden` int(11) DEFAULT NULL,
  `b` int(11) DEFAULT NULL,
  `c` int(11) DEFAULT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1
select * from t3;
hidden	b	c
NULL	1	1
connection master;
drop table t1,t2,t3;
set debug_dbug="";
include/rpl_end.inc
